@page "/"

<PageTitle>Home</PageTitle>

<MudContainer Class="pa-8" MaxWidth="MaxWidth.False">
    <MudGrid Spacing="1">
        <MudItem xs="6">
            <MudPaper Class="pa-4 mud-primary-text" Style="height: 100%;">
                <MudText>km</MudText>
                <MudText Typo="Typo.h1">15.2</MudText>
                <MudText>Distance</MudText>
            </MudPaper>
        </MudItem>
        <MudItem xs="6">
            <MudGrid Spacing="1">
                <MudItem xs="12">
                    <MudPaper Class="pa-4">
                        <MudText Typo="Typo.h3">@_currentTime.ToString("hh\\:mm\\:ss")</MudText>
                        <MudText>Time</MudText>
                    </MudPaper>
                </MudItem>
                <MudItem xs="12">
                    <MudPaper Class="pa-4">
                        <MudText>km/h</MudText>
                        <MudText Typo="Typo.h3">29.3</MudText>
                        <MudText>Avg. speed</MudText>
                    </MudPaper>
                </MudItem>
            </MudGrid>
        </MudItem>
        <MudItem xs="12">
            <MudPaper Class="pa-4">
                <MudText Typo="Typo.h3">@($"{_currentPosition?.Coords.Latitude} {_currentPosition?.Coords.Longitude}")</MudText>
                <MudText Typo="Typo.h3">@_positionError?.Message</MudText>
                    @if (_currentPosition is null && _positionError is null)
                {
                    <MudProgressCircular Indeterminate="true" />
                }
                <MudText>@_currentPosition?.TimestampAsUtcDateTime.ToLocalTime()</MudText>
                    <MudText>Position</MudText>
                </MudPaper>
            </MudItem>
            <MudItem xs="12">
                <MudGrid Spacing="1">
                    <MudItem xs="10">
                        <MudButton Color="Color.Primary" FullWidth="true" Size="Size.Large" Class="pa-4" Variant="Variant.Filled" OnClick="@(_stopWatch.IsRunning ? Pause : StartOrResume)">
                            @if (_stopWatch.IsRunning)
                        {
                            <MudText>Pause</MudText>
                        }
                        else if (_isPaused)
                        {
                            <MudText>Resume</MudText>
                        }
                        else
                        {
                            <MudText>Start</MudText>
                        }
                    </MudButton>
                </MudItem>
                <MudItem xs="2">
                    <MudButton Size="Size.Large" Variant="Variant.Filled" Class="pa-4" Color="Color.Dark" FullWidth="true" OnClick="Stop">
                        Stop
                    </MudButton>
                </MudItem>
            </MudGrid>
        </MudItem>
    </MudGrid>
</MudContainer>